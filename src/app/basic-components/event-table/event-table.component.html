<div *ngIf="isLoading" class="spinner-container">
  <mat-spinner></mat-spinner>
</div>
<div *ngIf="!isLoading">
  <div class="table-container">
    <ng-container *ngFor="let group of groupedEvents">
      <!-- Display the month header -->
      <h2 class="month-header">{{ group[0] }}</h2>

      <mat-accordion>
        <mat-expansion-panel *ngFor="let event of group[1]">
          <mat-expansion-panel-header>
            <mat-panel-title class="event-header">
              <div class="event-column">
                {{ event.date | date : "MMMM dd, yyyy" }}
              </div>
              <div class="event-column">{{ event.creator }}</div>
              <div class="event-column">{{ event.name }}</div>
            </mat-panel-title>
          </mat-expansion-panel-header>

          <div class="event-details">
            <div class="event-row">
              <div><strong>Date:</strong> {{ event.date | date }}</div>
              <div><strong>Creator:</strong> {{ event.creator }}</div>
              <div><strong>Event:</strong> {{ event.name }}</div>
            </div>
            <a
              [routerLink]="['/registration-page', event.id]"
              class="register-link"
              >Register for event</a
            >
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </ng-container>
  </div>
</div>
